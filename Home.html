<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home Biblioteca</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    * { box-sizing: border-box; margin:0; padding:0; }
    body { font-family: Arial, sans-serif; background:#f9f9f9; color:#333; }

    header { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background:#1e90ff; color:white; position:sticky; top:0; z-index:20; }
    header img.logo { height:50px; }
    nav { display:flex; gap:20px; }
    nav a { color:white; font-size:20px; display:flex; justify-content:center; align-items:center; width:40px; height:40px; text-decoration:none; }
    nav a:hover { color:#ffd700; }

    .banner { width:100%; height:300px; background:url('colorful-book-magazine-library-shelf-600nw-2419079741.webp') center/cover no-repeat; display:flex; justify-content:center; align-items:center; margin-bottom:30px; }
    .banner h1 { color:white; font-size:36px; text-shadow:2px 2px 6px rgba(0,0,0,0.5); }

    main { padding:20px; display:flex; flex-direction:column; align-items:center; }

    .filtro { margin-bottom:30px; display:flex; justify-content:center; align-items:center; }
    .filtro select { padding:8px; font-size:14px; border-radius:6px; border:1px solid #ccc; }

    .genero { margin-bottom:60px; width:100%; max-width:1000px; }
    .genero h2 { margin-bottom:10px; color:#1e90ff; text-align:left; }

    .carrossel-wrapper { position:relative; width:100%; }
    .carrossel { display:flex; overflow-x:auto; gap:16px; scroll-behavior:smooth; padding:10px 0; }
    .carrossel::-webkit-scrollbar { display:none; }

    .livro { flex-shrink:0; background:white; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); text-align:center; padding:10px; cursor: pointer; }
    
    /* Imagens padronizadas com altura maior que largura */
    .livro img {
      width: 120px;      /* largura fixa */
      height: 200px;     /* altura maior que largura */
      object-fit: cover; /* mantém proporção e corta se necessário */
      border-radius: 4px;
      margin-bottom: 8px;
    }
    
    .livro p { font-weight:bold; font-size:14px; }

    .btn-carrossel { position:absolute; top:50%; transform:translateY(-50%); background:rgba(30,144,255,0.8); color:white; border:none; padding:12px; border-radius:50%; cursor:pointer; font-size:18px; z-index:10; }
    .btn-carrossel:hover { background: rgba(16,78,139,0.9); }
    .btn-left { left:-20px; }
    .btn-right { right:-20px; }

    /* Modal (janela pop-up) */
    .modal {
      display: none; /* Inicialmente escondido */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      width: 400px;
      text-align: center;
    }

    .modal .close {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 20px;
      cursor: pointer;
      color: #aaa;
    }

    .modal .close:hover {
      color: black;
    }

    .btnEmprestar {
      padding: 8px 16px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .btnEmprestar:hover {
      background-color: #218838;
    }
  </style>
</head>
<body>
  <header>
    <img src="download.png" alt="Logo" class="logo">
    <nav>
      <a href="#" title="Home"><i class="fas fa-home"></i></a>
      <a href="#" title="Pesquisar"><i class="fas fa-search"></i></a>
      <a href="#" title="Usuário"><i class="fas fa-user"></i></a>
    </nav>
  </header>

  <div class="banner">
    <h1>Bem-vindo(a) à Biblioteca Szymanski!</h1>
  </div>

  <main>
    <div class="filtro">
      <label for="generoSelect" style="margin-right:10px;">Escolha o gênero:</label>
      <select id="generoSelect"></select>
    </div>

    <div id="carrosseisContainer"></div>
  </main>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3 id="livroTitulo"></h3>
      <p id="sinopse"></p>
      <p><strong>Emprestar:</strong> <button id="btnEmprestar">Emprestar</button></p>
      <p><strong>Data de Devolução:</strong> <span id="dataDevolucao"></span></p>
      <p><strong>Estoque:</strong> <span id="estoque"></span></p>
    </div>
  </div>

  <script>
    const generos = ['Todos','Aventura','Biografia','Clássicos','Conto','Crônica','Drama','Educação','Fantasia','Ficção Científica',
      'Filosofia','História','Humor','Infantil','Mistério','Policial','Poesia','Romance','Terror','Autoajuda','Religião','Saúde','Tecnologia','Economia','Artes'];

    const select = document.getElementById('generoSelect');
    generos.forEach(g => {
      const opt = document.createElement('option');
      opt.value = g; opt.textContent = g;
      select.appendChild(opt);
    });

    const container = document.getElementById('carrosseisContainer');
    const modal = document.getElementById('modal');
    const closeModal = document.querySelector('.close');
    const livroTitulo = document.getElementById('livroTitulo');
    const sinopse = document.getElementById('sinopse');
    const dataDevolucao = document.getElementById('dataDevolucao');
    const estoque = document.getElementById('estoque');
    const btnEmprestar = document.getElementById('btnEmprestar');

    function renderCarrossel(genero) {
      container.innerHTML = ''; // Limpa container
      if(genero === 'Todos'){
        generos.forEach(g => createCarrossel(g));
      } else {
        createCarrossel(genero);
      }
    }

    function createCarrossel(g) {
      const sec = document.createElement('section');
      sec.className = 'genero';
      const h2 = document.createElement('h2');
      h2.textContent = g;
      sec.appendChild(h2);

      const wrapper = document.createElement('div');
      wrapper.className = 'carrossel-wrapper';

      const carrossel = document.createElement('div');
      carrossel.className = 'carrossel';

      for(let j=1;j<=10;j++){
        const livroDiv = document.createElement('div');
        livroDiv.className = 'livro';
        const img = document.createElement('img');
        img.src = `capa${j}.jpg`;
        img.alt = `${g} Livro ${j}`;
        const p = document.createElement('p');
        p.textContent = `${g} Livro ${j}`;
        livroDiv.appendChild(img);
        livroDiv.appendChild(p);

        livroDiv.onclick = () => mostrarDetalhes(g, j);

        carrossel.appendChild(livroDiv);
      }

      const btnLeft = document.createElement('button');
      btnLeft.className = 'btn-carrossel btn-left';
      btnLeft.innerHTML = '&#10094;';
      btnLeft.onclick = () => carrossel.scrollBy({ left: -carrossel.clientWidth/2, behavior:'smooth' });

      const btnRight = document.createElement('button');
      btnRight.className = 'btn-carrossel btn-right';
      btnRight.innerHTML = '&#10095;';
      btnRight.onclick = () => carrossel.scrollBy({ left: carrossel.clientWidth/2, behavior:'smooth' });

      wrapper.appendChild(btnLeft);
      wrapper.appendChild(carrossel);
      wrapper.appendChild(btnRight);
      sec.appendChild(wrapper);
      container.appendChild(sec);
    }

    function mostrarDetalhes(genero, livroId) {
      // Simulando a sinopse e as informações do livro
      livroTitulo.textContent = `${genero} Livro ${livroId}`;
      sinopse.textContent = `Sinopse do Livro ${livroId}: Este é um livro fictício do gênero ${genero}.`;
      estoque.textContent = `${Math.floor(Math.random() * 5) + 1} cópias disponíveis`;  // Quantidade de livros no estoque
      const dataAtual = new Date();
      const dataDevolucaoFormatted = new Date(dataAtual.setDate(dataAtual.getDate() + 7)).toLocaleDateString();
      dataDevolucao.textContent = dataDevolucaoFormatted;

      modal.style.display = 'flex';
    }

    closeModal.onclick = () => {
      modal.style.display = 'none';
    };

    window.onclick = (event) => {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    };

    select.addEventListener('change', () => renderCarrossel(select.value));

    renderCarrossel('Todos'); // inicializa mostrando todos
  </script>
</body>
</html>
